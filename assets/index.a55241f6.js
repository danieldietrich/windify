import T from"https://esm.run/candid";const N=function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function a(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=a(e);fetch(e.href,r)}};N();const $="modulepreload",C={},M="/",P=function(c,a){return!a||a.length===0?c():Promise.all(a.map(o=>{if(o=`${M}${o}`,o in C)return;C[o]=!0;const e=o.endsWith(".css"),r=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${r}`))return;const n=document.createElement("link");if(n.rel=e?"stylesheet":$,e||(n.as="script",n.crossOrigin=""),n.href=o,document.head.appendChild(n),e)return new Promise((w,E)=>{n.addEventListener("load",w),n.addEventListener("error",E)})})).then(()=>c())};var k=async f=>{const{minify:c,parseCss:a,preflight:o,root:e,watch:r,windiCssVersion:n,config:w}=Object.assign({minify:!1,parseCss:!0,preflight:!0,root:document.body,watch:!0,windiCssVersion:"latest"},f),[{default:E},{CSSParser:O}]=await Promise.all([P(()=>import(`https://esm.run/windicss@${n}`),[]),P(()=>import(`https://esm.run/windicss@${n}/utils/parser`),[])]),m=new E(w),p=m.interpret().styleSheet,q=document.head.appendChild(document.createElement("style")),g=new Set,d=new Set,S=new Set,u=new Set,y=(s,t=!0)=>{const i=t?s.querySelectorAll("*"):[];[s,...i].forEach(h=>{if(h.classList.length>0&&h.classList.forEach(l=>{!g.has(l)&&d.add(l)}),o){const l=h.tagName.toLowerCase();!S.has(l)&&u.add(l)}})},L=(()=>{const s=window.requestAnimationFrame||(i=>setTimeout(i,16.66));let t=0;return()=>!!(d.size+u.size)&&t==0&&(t=s(()=>{b(),t=0}))})(),b=()=>{if(d.size){const s=[...d].join(" "),t=m.interpret(s).styleSheet;p.extend(t),d.forEach(i=>g.add(i)),d.clear()}if(o&&u.size){const s=[...u].map(i=>`<${i}`).join(" "),t=m.preflight(s);p.extend(t),u.forEach(i=>S.add(i)),u.clear()}p.sort(),q.innerHTML=p.build(c)},v=s=>{s.querySelectorAll("style[lang='windify']").forEach(t=>{const i=new O(t.textContent,m);t.innerHTML=i.parse().build(),t.removeAttribute("lang")})},A=async()=>{a&&v(document.documentElement),y(e),b(),[document.documentElement,document.body,e].forEach(s=>{s.hidden&&s.removeAttribute("hidden")}),r&&new MutationObserver(s=>{s.forEach(({type:t,target:i,attributeName:h,addedNodes:l})=>{t==="attributes"&&h==="class"&&y(i,!1),t==="childList"&&l.forEach(_=>_.nodeType===Node.ELEMENT_NODE&&y(_))}),L()}).observe(e,{childList:!0,subtree:!0,attributeFilter:["class"]})};if(typeof window=="undefined"){console.warn("Windify cannot be used outside of a browser.");return}return await A(),async(...s)=>{s.forEach(t=>{a&&v(t),y(t)}),L()}};window.addEventListener("load",()=>{k({config:{darkMode:"class"}}).then(f=>T(f))});
