import O from"https://esm.run/candid";const P=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function l(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(e){if(e.ep)return;e.ep=!0;const s=l(e);fetch(e.href,s)}};P();const T="modulepreload",b={},q="/",_=function(a,l){return!l||l.length===0?a():Promise.all(l.map(i=>{if(i=`${q}${i}`,i in b)return;b[i]=!0;const e=i.endsWith(".css"),s=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${s}`))return;const o=document.createElement("link");if(o.rel=e?"stylesheet":T,e||(o.as="script",o.crossOrigin=""),o.href=i,document.head.appendChild(o),e)return new Promise((y,E)=>{o.addEventListener("load",y),o.addEventListener("error",E)})})).then(()=>a())};var N=async f=>{const{minify:a,parseCss:l,preflight:i,root:e,watch:s,windiCssVersion:o,config:y}=Object.assign({minify:!1,parseCss:!0,preflight:!0,root:document.body,watch:!0,windiCssVersion:"latest"},f),{default:E}=await _(()=>import(`https://esm.run/windicss@${o}`),[]),m=new E(y),h=m.interpret().styleSheet,v=document.head.appendChild(document.createElement("style")),w=new Set,d=new Set,g=new Set,u=new Set,p=t=>{if(t.nodeType===Node.ELEMENT_NODE){const r=t.querySelectorAll("*");[t,...r].forEach(n=>{if(n.nodeType===Node.ELEMENT_NODE&&(n.classList.length>0&&n.classList.forEach(c=>!w.has(c)&&d.add(c)),i)){const c=n.nodeName.toLowerCase();!g.has(c)&&u.add(c)}})}},S=(()=>{const t=window.requestAnimationFrame||(n=>setTimeout(n,16.66));let r=0;return()=>!!(d.size+u.size)&&r==0&&(r=t(()=>{L(),r=0}))})(),L=()=>{if(d.size){const t=Array.from(d).join(" "),r=m.interpret(t).styleSheet;h.extend(r),d.forEach(n=>w.add(n)),d.clear()}if(i&&u.size){const t=Array.from(u).map(n=>`<${n}`).join(" "),r=m.preflight(t);h.extend(r),u.forEach(n=>g.add(n)),u.clear()}h.sort(),v.innerHTML=h.build(a)},A=async()=>{if(l){const{CSSParser:t}=await _(()=>import(`https://esm.run/windicss@${o}/utils/parser`),[]);[document,...Array.from(document.querySelectorAll("template")).map(r=>r.content)].forEach(r=>r.querySelectorAll("style[lang='windify']").forEach(n=>{const c=new t(n.textContent,m);n.innerHTML=c.parse().build(),n.removeAttribute("lang")}))}p(e),L(),[document.documentElement,document.body,e].forEach(t=>{t.hidden&&t.removeAttribute("hidden")}),s&&new MutationObserver(t=>{t.forEach(({type:r,target:n,addedNodes:c})=>{r==="attributes"&&p(n),r==="childList"&&c.forEach(C=>p(C))}),S()}).observe(e,{childList:!0,subtree:!0,attributeFilter:["class"]})};if(typeof window=="undefined"){console.warn("Windify cannot be used outside of a browser.");return}return await A(),async(...t)=>{t.forEach(r=>p(r)),S()}};window.addEventListener("load",()=>{N({config:{darkMode:"class"}}).then(f=>O(f))});
